import{read}from"../module/services/services-min.js";function parseLogEntry(e){const t=e.match(/\[(.*?)\]/g);if(t&&t.length>=5){const n=t[0],r=t[1],a=t[2],s=t[3],o=t[4];let c=e;return t.forEach((e=>{c=c.replace(e,"")})),c=c.trim(),[n,r,a,s,o,c]}return[]}function formatLogEntry(e){const[t,n,r,a,s,o]=e;return`<span class="text-blue-500">${t}</span> <span class="text-yellow-500">${n}</span> <span class="text-green-500">${r}</span> <span class="${{"[bajo]":"text-gray-500","[normal]":"text-blue-500","[medio]":"text-yellow-500","[alto]":"text-orange-500","[critico]":"text-red-500"}[a]||"text-gray-500"}">${a}</span> <span class="text-purple-500">${s}</span> ${o}`}document.addEventListener("DOMContentLoaded",(async()=>{const e=document.querySelector("#logbook");(await read("../../app/controllers/LogbookController.php")).sort(((e,t)=>new Date(t.substring(1,20))-new Date(e.substring(1,20)))).forEach((t=>{const n=document.createElement("div"),r=formatLogEntry(parseLogEntry(t));n.innerHTML=`<pre class="whitespace-pre-wrap text-sm">${r}</pre>`,e.appendChild(n)}))}));