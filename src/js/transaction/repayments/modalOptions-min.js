import{setModalTitle,setNameModalButton,setFormReadOnly}from"../../module/modal-min.js";import{alert}from"../../module/alert-min.js";import{create,read}from"../../module/services/services-min.js";export default function openModal(e,t,r,a,o,l,s,i){var d=t.row({selected:!0}).data();switch(o.querySelector("#txtAction").value){case"001":setModalTitle("modalTitle","Crear Devolución"),setNameModalButton("btnModal","Guardar datos"),l.click();break;case"002":setFormReadOnly("frmRepayment"),setParameters(d,o,l,"modalTitle","Ver Devolución","btnModal","Ver devolución",s,i);default:break}}async function setParameters(e,t,r,a,o,l,s,i,d){if(!e)return void alert("Aviso","Debe seleccionar un registro.","info","OK",!1);const c=await read(`../../app/controllers/RepaymentController.php?id=${e.correlativo}`),n=c[0].details;c&&(t.querySelector("#gridDetail").classList.add("hidden"),t.querySelector("#gridDetail").classList.remove("grid"),t.querySelector("#gridReturn").classList.remove("hidden"),t.querySelector("#gridReturn").classList.add("grid"),t.querySelector("#txtReturn").value=c[0]?.correlativo,t.querySelector("#txtInvoice").value=c[0]?.codigo_factura,t.querySelector("#txtDateReturnInit").value=c[0]?.fecha,t.querySelector("#txtResponsibleReturn").value="N/A",i.push(...n),d.column(7).visible(!1),d.clear(),d.rows.add(i),d.draw()),t.querySelector(`#${l}`).disabled=!0,t.querySelector(`#${l}`).classList.add("hidden"),r.click(),setModalTitle(a,o),setNameModalButton(l,s)}export async function send(e={},t="001"){if(!e)return{success:!1,message:"Los datos son requeridos."};switch(t){case"001":return await create(e,"../../app/controllers/RepaymentController.php");default:}}